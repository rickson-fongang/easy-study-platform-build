<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - EasyStudy</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/tehillah.css">
</head>
<body class="dashboard-body">
    <!-- Navigation -->
    <nav class="dashboard-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <h2>EasyStudy</h2>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-item active">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9,22 9,12 15,12 15,22"/>
                    </svg>
                    Dashboard
                </a>
                <a href="videos.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="23 7 16 12 23 17 23 7"/>
                        <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
                    </svg>
                    Videos
                </a>
                <a href="tasks.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4"/>
                        <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                        <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                        <path d="M3 12c0 5.5 4.5 10 10 10s10-4.5 10-10"/>
                    </svg>
                    Tasks
                </a>
                <a href="chat.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                    Chat
                </a>
                <a href="profile.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    Profile
                </a>
            </div>
            <div class="nav-user">
                <div class="user-avatar">
                    <span id="userInitials">JS</span>
                </div>
                <div class="user-dropdown">
                    <button class="dropdown-toggle" id="userDropdown">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                    <div class="dropdown-menu" id="userDropdownMenu">
                        <a href="profile.html" class="dropdown-item">Profile Settings</a>
                        <a href="#" class="dropdown-item" onclick="window.EasyStudy.logout()">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="dashboard-main">
        <div class="dashboard-container">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <div class="welcome-content">
                    <div class="welcome-text">
                        <h1 class="welcome-title">Welcome back, <span id="studentName">John</span>! ðŸ‘‹</h1>
                        <p class="welcome-subtitle">Ready to continue your learning journey?</p>
                    </div>
                    <div class="countdown-timer" id="countdownTimer">
                        <div class="timer-label">Time Remaining</div>
                        <div class="timer-display">
                            <div class="timer-unit">
                                <span class="timer-value" id="days">00</span>
                                <span class="timer-label">Days</span>
                            </div>
                            <div class="timer-unit">
                                <span class="timer-value" id="hours">00</span>
                                <span class="timer-label">Hours</span>
                            </div>
                            <div class="timer-unit">
                                <span class="timer-value" id="minutes">00</span>
                                <span class="timer-label">Minutes</span>
                            </div>
                            <div class="timer-unit">
                                <span class="timer-value" id="seconds">00</span>
                                <span class="timer-label">Seconds</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stats Cards -->
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="23 7 16 12 23 17 23 7"/>
                                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="videosWatched">12</div>
                            <div class="stat-label">Videos Watched</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4"/>
                                <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                <path d="M3 12c0 5.5 4.5 10 10 10s10-4.5 10-10"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="tasksCompleted">8</div>
                            <div class="stat-label">Tasks Completed</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="studyStreak">15</div>
                            <div class="stat-label">Day Streak</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalPoints">1,250</div>
                            <div class="stat-label">Points Earned</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Main Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Course Progress -->
                <section class="dashboard-card">
                    <div class="card-header">
                        <h2 class="card-title">Course Progress</h2>
                        <a href="videos.html" class="card-action">View All</a>
                    </div>
                    <div class="course-list">
                        <div class="course-item">
                            <div class="course-info">
                                <h3 class="course-title">Mathematics Fundamentals</h3>
                                <p class="course-description">Algebra, Geometry, and Calculus basics</p>
                            </div>
                            <div class="course-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%"></div>
                                </div>
                                <span class="progress-text">75%</span>
                            </div>
                        </div>
                        <div class="course-item">
                            <div class="course-info">
                                <h3 class="course-title">Physics Concepts</h3>
                                <p class="course-description">Mechanics, Thermodynamics, and Waves</p>
                            </div>
                            <div class="course-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%"></div>
                                </div>
                                <span class="progress-text">45%</span>
                            </div>
                        </div>
                        <div class="course-item">
                            <div class="course-info">
                                <h3 class="course-title">Chemistry Basics</h3>
                                <p class="course-description">Atomic structure and Chemical reactions</p>
                            </div>
                            <div class="course-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 30%"></div>
                                </div>
                                <span class="progress-text">30%</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Recent Activities -->
                <section class="dashboard-card">
                    <div class="card-header">
                        <h2 class="card-title">Recent Activities</h2>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon video">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="5 3 19 12 5 21 5 3"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-text">Completed video: "Linear Equations"</p>
                                <span class="activity-time">2 hours ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon task">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9,11 12,14 22,4"/>
                                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-text">Submitted assignment: "Physics Problem Set 3"</p>
                                <span class="activity-time">1 day ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon chat">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-text">New message from Sarah in Study Group</p>
                                <span class="activity-time">2 days ago</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Upcoming Tasks -->
                <section class="dashboard-card">
                    <div class="card-header">
                        <h2 class="card-title">Upcoming Tasks</h2>
                        <a href="tasks.html" class="card-action">View All</a>
                    </div>
                    <div class="task-list">
                        <div class="task-item urgent">
                            <div class="task-priority"></div>
                            <div class="task-content">
                                <h3 class="task-title">Chemistry Lab Report</h3>
                                <p class="task-description">Complete the analysis of chemical reactions</p>
                                <div class="task-meta">
                                    <span class="task-due">Due: Tomorrow</span>
                                    <span class="task-status urgent">Urgent</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item">
                            <div class="task-priority"></div>
                            <div class="task-content">
                                <h3 class="task-title">Math Problem Set 5</h3>
                                <p class="task-description">Solve calculus integration problems</p>
                                <div class="task-meta">
                                    <span class="task-due">Due: In 3 days</span>
                                    <span class="task-status normal">Normal</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item">
                            <div class="task-priority"></div>
                            <div class="task-content">
                                <h3 class="task-title">Physics Quiz Preparation</h3>
                                <p class="task-description">Review thermodynamics concepts</p>
                                <div class="task-meta">
                                    <span class="task-due">Due: In 1 week</span>
                                    <span class="task-status normal">Normal</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Quick Actions -->
                <section class="dashboard-card">
                    <div class="card-header">
                        <h2 class="card-title">Quick Actions</h2>
                    </div>
                    <div class="quick-actions">
                        <a href="videos.html" class="action-button">
                            <div class="action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="5 3 19 12 5 21 5 3"/>
                                </svg>
                            </div>
                            <span>Watch Videos</span>
                        </a>
                        <a href="tasks.html" class="action-button">
                            <div class="action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                    <line x1="16" y1="13" x2="8" y2="13"/>
                                    <line x1="16" y1="17" x2="8" y2="17"/>
                                    <polyline points="10,9 9,9 8,9"/>
                                </svg>
                            </div>
                            <span>Submit Task</span>
                        </a>
                        <a href="chat.html" class="action-button">
                            <div class="action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                                </svg>
                            </div>
                            <span>Chat with Friends</span>
                        </a>
                        <button class="action-button" onclick="openTehillahChat()">
                            <div class="action-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                    <circle cx="12" cy="17" r="1"/>
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                            </div>
                            <span>Ask Tehillah</span>
                        </button>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Tehillah Chat Widget -->
    <div id="tehillahChat" class="tehillah-chat hidden">
        <div class="chat-header">
            <div class="chat-avatar">
                <span>T</span>
            </div>
            <div class="chat-info">
                <h3>Tehillah AI</h3>
                <span class="chat-status">Online</span>
            </div>
            <button class="chat-close" onclick="closeTehillahChat()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message tehillah">
                <div class="message-avatar">T</div>
                <div class="message-content">
                    <p>Hi! I'm Tehillah, your AI study assistant. How can I help you today?</p>
                    <span class="message-time">Just now</span>
                </div>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Ask me anything about your studies...">
            <button onclick="sendTehillahMessage()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"/>
                    <polygon points="22,2 15,22 11,13 2,9 22,2"/>
                </svg>
            </button>
        </div>
    </div>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/student-dashboard.js"></script>
    <script src="../assets/js/tehillah-chat.js"></script>
    <script>
        // Initialize Tehillah when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initTehillah('dashboard', 'student')
        })
    </script>
</body>
</html>
